function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(t,n){"function"==typeof define&&define.amd?define([],n):"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports?module.exports=n():t.iwork=n()}("undefined"!=typeof self?self:this,function(){return function(){var p={},o=[],r=window.onerror;p.removeListener=function(t,n){if("uncaughtException"==t){window.onerror=r||function(){};var e=o.findIndex(function(t){return t===n});-1!=e&&o.splice(e,1)}},p.on=function(t,n){"uncaughtException"==t&&(window.onerror=function(t){return n(new Error(t)),!0},o.push(n))};var n={data:{text:"Root",tests:[]}},a=n.data,l=[];return n.describe=function(t,n){a.tests.push({text:t,fn:n,tests:[]})},n.it=function(t,n){a.tests.push({text:t,fn:n})},n.run=function(){return new Promise(function(t){l=[],function r(i,u,c){var f=0,t=function t(){if(f>=i.tests.length)return c();var n=i.tests[f],e=function(t){return n.error=t,s(),!0};"Root"!==n.text&&l.push({test:n,level:u});try{if(1===(a=n).fn.length)p.on("uncaughtException",e),n.fn(function(){f+=1,p.removeListener("uncaughtException",e),t()});else{p.on("uncaughtException",e);var o=n.fn();if(o&&"function"==typeof o.then)o.then(function(){if(p.removeListener("uncaughtException",e),n.tests&&0<n.tests.length)return r(n,u+1,s);s()},function(t){n.error=t,s()});else{if(p.removeListener("uncaughtException",e),n.tests&&0<n.tests.length)return r(n,u+1,s);s()}}}catch(t){n.error=t,s()}},s=function(){f+=1,t()};t()}(n.data,0,function(){t(l)})})},n.reporters={html:function(t){var n="";return n+=t.map(function(t){var n,e=t.test,o=t.level,r=e.text,i=e.error,u=!e.tests;return i?'<div class="iwork iwork-error iwork-'.concat(o,'"><p>&#10006; ').concat(r,"</p><pre>").concat(((n=i).stack?n.stack:n.toString()).replace(/[\u001b\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-ORZcf-nqry=><]/g,""),"</pre></div>"):'<div class="iwork iwork-'.concat(o,'"><p>').concat(u?"&#10004; ":"").concat(r,"</p></div>")}).join("\n"),n}},n}});